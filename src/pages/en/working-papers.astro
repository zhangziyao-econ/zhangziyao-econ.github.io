---
import { getEntry, render } from "astro:content";
import MainLayout from "../../layouts/MainLayout.astro";
import PageSection from "../../components/PageSection.astro";
import { stripBase } from "../../lib/path";

const entry = await getEntry("pages", "en/working-papers");
if (!entry) {
  throw new Error("Missing content entry: pages/en/working-papers.md");
}
const { Content } = await render(entry);
const currentPath = stripBase(Astro.url.pathname, import.meta.env.BASE_URL);
---

<MainLayout
  lang="en"
  currentPath={currentPath}
  pageTitle="Working Papers | Ziyao Zhang"
  pageDescription="Ongoing projects and drafts"
>
  <PageSection title={entry.data.title}>
    <Content />
  </PageSection>
</MainLayout>
