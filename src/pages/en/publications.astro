---
import { getCollection } from "astro:content";
import MainLayout from "../../layouts/MainLayout.astro";
import PageSection from "../../components/PageSection.astro";
import PublicationList from "../../components/PublicationList.astro";
import { stripBase } from "../../lib/path";

const items = await getCollection("publications");
const currentPath = stripBase(Astro.url.pathname, import.meta.env.BASE_URL);
---

<MainLayout
  lang="en"
  currentPath={currentPath}
  pageTitle="Publications | Ziyao Zhang"
  pageDescription="Publications in Chinese and English"
>
  <PageSection title="Publications">
    <PublicationList items={items} uiLang="en" />
  </PageSection>
</MainLayout>
